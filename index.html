<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ZXing Barcode Scanner</title>

<script src="https://unpkg.com/@zxing/library@latest"></script>

<style>
#video{
  width:100%;
  height:320px;
  border:3px solid #1976d2;
}
button{
  width:100%;
  padding:12px;
  font-size:16px;
  margin-top:10px;
}
</style>
</head>

<body>

<h3>Professional Barcode Scanner</h3>

<button onclick="startScan()">Start Scan</button>
<video id="video"></video>

<script>
let codeReader;

async function startScan(){

  codeReader = new ZXing.BrowserMultiFormatReader();

  try{
    const devices = await codeReader.listVideoInputDevices();
    const backCamera = devices.find(d => d.label.toLowerCase().includes('back')) || devices[0];

    codeReader.decodeFromVideoDevice(backCamera.deviceId, 'video', (result, err) => {
      if(result){
        alert("SCANNED: " + result.text);
        codeReader.reset();
      }
    });

  }catch(err){
    alert("Camera start error ‚ùå");
  }
}
</script>

</body>
</html>
