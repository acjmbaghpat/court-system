<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Camera Scan Test</title>

<script src="https://unpkg.com/html5-qrcode"></script>

<style>
#reader{
  width:100%;
  height:300px;
  border:3px solid green;
}
button{
  width:100%;
  padding:12px;
  font-size:16px;
}
</style>
</head>

<body>

<h3>Camera Scan Test</h3>
<button onclick="start()">Start Camera</button>
<div id="reader"></div>

<script>
let scanner;

function start(){
  if(scanner){
    scanner.stop().catch(()=>{});
    scanner = null;
  }

  document.getElementById("reader").innerHTML="";

  scanner = new Html5Qrcode("reader");

  scanner.start(
    { facingMode:"environment" },
    { fps:10, qrbox:250 },
    txt=>{
      alert("SCANNED: " + txt);
      scanner.stop();
    },
    err=>{}
  ).catch(e=>{
    alert("Camera start failed ‚ùå");
  });
}
</script>

</body>
</html>
